@navWidth: 282px;

.wrapper {
	-webkit-transform: translate(0, 0);
	-moz-transform: translate(0, 0);
	transform: translate(0, 0);

	-webkit-transition: -webkit-transform .3s ease-in-out;
	-moz-transition: -moz-transform .3s ease-in-out;
	transition: transform .3s ease-in-out;

	&:before {
		background-color: #000;
		bottom: 0;
		content: '';
		left: 0;
		opacity: 0;
		position: absolute;
		right: 0;
		top: 0;
		visibility: hidden;
		z-index: 32758;

		-webkit-transition: visibility 0s linear .3s, opacity .3s linear;
		-moz-transition: visibility 0s linear .3s, opacity .3s linear;
		transition: visibility 0s linear .3s, opacity .3s linear;
	}
}

#expand {
	display: none;

	&:checked {
		+ nav.main > .sleeve {
			-webkit-transform: translate(0, 0);
			-moz-transform: translate(0, 0);
			transform: translate(0, 0);

			> label {
				-webkit-transform: rotate(-90deg);
				-moz-transform: rotate(-90deg);
				transform: rotate(-90deg);
			}
		}

		~ .wrapper {
			-webkit-transform: translate(-@navWidth, 0);
			-moz-transform: translate(-@navWidth, 0);
			transform: translate(-@navWidth, 0);

			&:before {
				opacity: .3;
				visibility: visible;

				-webkit-transition-delay: 0s;
				-moz-transition-delay: 0s;
				transition-delay: 0s;
			}
		}
	}
}

nav.main {
	height: 100%;
	position: fixed;
	right: 0;
	width: @navWidth;
	z-index: 32768;
	top: 0;

	input#closeSubLevels {
		display: none;

		&:checked {
			+ ul {
			}
		}
	}

	input[name=subLevels] {
		display: none;

		&:checked {
			+ div {
				-webkit-transform: translate(0, 0);
				-moz-transform: translate(0, 0);
				transform: translate(0, 0);
			}
		}
	}

	.sleeve {
		background-color: #1f1f1f;
		height: 100%;

		-webkit-transform: translate(100%, 0);
		-moz-transform: translate(100%, 0);
		transform: translate(100%, 0);

		-webkit-transition: -webkit-transform 0.3s ease-in-out;
		-moz-transition: -moz-transform 0.3s ease-in-out;
		transition: transform 0.3s ease-in-out;

		&:after {
			bottom: 0;
			box-shadow: 0 0 40px #000;
			content: '';
			position: absolute;
			right: -20px;
			top: 0;
			width: 20px;
			z-index: 30;
		}
		
		> label {
			background-color: #1f1f1f;
			position: absolute;
			height: 42px;
			margin-left: -42px;
			width: 42px;
			border-right: 20px solid #1f1f1f;

			&:before {
				color: #fff;
				content: '\2261';
				font-size: 4em;
				line-height: 42px;
				position: absolute;
				text-align: center;
				width: 42px;
			}
		}

		> ul {
			height: 100%;
			-webkit-overflow-scrolling: touch;
			overflow-x: hidden;
			overflow-y: auto;

			li {
				font-size: 1.2em;
				font-weight: bold;
				line-height: 1.333334;
				padding: 0;
				text-align: left;

				&:first-child {
					border-top: 0;
				}

				a,
				label {
					border-top: 1px solid #000;
					color: #fff;
					display: block;
					padding: 12px 20px 13px;

					&:hover,
					&:focus {
						text-decoration: none;
					}
				}

				label {
					&:after {
						border-bottom: 4px solid transparent;
						border-left: 6px solid #fff;
						border-top: 4px solid transparent;
						content: '';
						margin: 3px 0 0 5px;
						display: inline-block;
						z-index: 10;
						width: 0;
						height: 0;
					}

					+ a {
						display: none;
					}
				}

					div {
						background-color: #1f1f1f;
						bottom: 0;
						position: absolute;
						right: 0;
						top: 0;
						width: 100%;
						z-index: 20;

						-webkit-transform: translate(100%, 0);
						-moz-transform: translate(100%, 0);
						transform: translate(100%, 0);

						-webkit-transition: -webkit-transform .3s ease-in-out;
						-moz-transition: -moz-transform .3s ease-in-out;
						transition: transform .3s ease-in-out;
					}

					li {
						font-size: 1em;
						font-weight: normal;
						line-height: 1;

						a {
							display: block;
							padding-left: 40px;
						}
					}
			}
		}
	}
}

@media (min-width: 992px) {
	body.no-scroll {
		overflow: auto;
	}

	#expand {
		&:checked {
			~ .wrapper {
				-webkit-transform: translate(0, 0);
				-moz-transform: translate(0, 0);
				transform: translate(0, 0);

				.inner-wrapper {
					opacity: 1;
				}
			}
		}
	}

	.wrapper {
		-webkit-transition: none;
		-moz-transition: none;
		transition: none;

		&:before {
			display: none;
		}
	}

	nav.main {
		height: auto;
		left: 0;
		right: 0;
		text-align: center;
		top: 42px;
		width: auto;

		.sleeve {
			-webkit-transform: translate(0, 0);
			-moz-transform: translate(0, 0);
			transform: translate(0, 0);

			-webkit-transition: none;
			-moz-transition: none;
			transition: none;

			> label {
				display: none;
			}

			> ul {
				box-shadow: none;
				height: auto;
				overflow-x: auto;
				overflow-y: hidden;
				position: static;
				white-space: nowrap;
				width: auto;

				li {
					label {
						display: none;
						
						+ a {
							display: block;
						}
					}
				}

				> li {
					display: inline-block;
					padding-left: 0;
					padding-right: 0;

					&:hover,
					&:focus {
						div {
							left: auto;
						}
					}

					div {
						bottom: auto;
						left: -1000em;
						right: auto;
						top: auto;
						width: auto;

						-webkit-transform: translate(0, 0);
						-moz-transform: translate(0, 0);
						transform: translate(0, 0);

						-webkit-transition: none;
						-moz-transition: none;
						transition: none;
					}

					li {
						a {
							padding-left: 20px;
						}
					}
				}
			}
		}
	}
}